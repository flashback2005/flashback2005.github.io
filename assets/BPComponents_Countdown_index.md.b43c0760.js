import{_ as s,o as a,c as n,O as o}from"./chunks/framework.e90d2b58.js";const C=JSON.parse('{"title":"倒计时","description":"","frontmatter":{},"headers":[],"relativePath":"BPComponents/Countdown/index.md","filePath":"BPComponents/Countdown/index.md"}'),l={name:"BPComponents/Countdown/index.md"},t=o(`<h1 id="倒计时" tabindex="-1">倒计时 <a class="header-anchor" href="#倒计时" aria-label="Permalink to &quot;倒计时&quot;">​</a></h1><blockquote><ul><li><p>分为组件与hook形式，</p></li><li><p>如果是普通的倒计时，使用hook即可</p></li><li><p>如果需要距离开始时间与距离结束时间，使用组件</p></li></ul></blockquote><h2 id="倒计时组件" tabindex="-1">倒计时组件 <a class="header-anchor" href="#倒计时组件" aria-label="Permalink to &quot;倒计时组件&quot;">​</a></h2><table><thead><tr><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>startTime</td><td>number</td><td>开始时间（毫秒）</td></tr><tr><td>endTime</td><td>number</td><td>结束时间（毫秒）</td></tr></tbody></table><h3 id="具体描述" tabindex="-1">具体描述 <a class="header-anchor" href="#具体描述" aria-label="Permalink to &quot;具体描述&quot;">​</a></h3><ol><li>组件会根据2个时间判断</li><li>如果时间没有到达开始时间，则可以显示当前时间到 <strong>达开始时间</strong> 的倒计时</li><li>如果过了开始时间，并且没有到达结束时间，则可显示当前时间到达 <strong>结束时间</strong> 的倒计时</li><li>如果超过了结束时间，则可显示 <strong>已结束</strong></li></ol><h3 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h3><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Countdown</span><span style="color:#89DDFF;"> :startTime=&quot;1684383070000&quot; :endTime=&quot;1684386385000&quot; /&gt;</span></span></code></pre></div><h3 id="源码" tabindex="-1">源码： <a class="header-anchor" href="#源码" aria-label="Permalink to &quot;源码：&quot;">​</a></h3><p><a href="./source.html">组件源码</a></p><h2 id="倒计时hook" tabindex="-1">倒计时hook <a class="header-anchor" href="#倒计时hook" aria-label="Permalink to &quot;倒计时hook&quot;">​</a></h2><table><thead><tr><th>说明</th><th>参数类型</th><th>描述</th></tr></thead><tbody><tr><td>参数1</td><td>Ref</td><td>距离倒计时的时间 (毫秒)</td></tr><tr><td>参数2</td><td>string</td><td>是以什么格式显示</td></tr><tr><td>参数3</td><td>{ onFinish }</td><td>倒计时结束的回调</td></tr></tbody></table><h4 id="第二个参数的描述" tabindex="-1">第二个参数的描述： <a class="header-anchor" href="#第二个参数的描述" aria-label="Permalink to &quot;第二个参数的描述：&quot;">​</a></h4><p>Y:年、M:月、D:日、h:时、m:分、s:秒</p><h3 id="注意" tabindex="-1">注意： <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意：&quot;">​</a></h3><p>第一个参数times，如果不是 <code>Ref</code>，则可以使用 <code>computed</code> 包装成 <code>Ref</code></p><h3 id="使用方法-1" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法-1" aria-label="Permalink to &quot;使用方法&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">tempTime</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tempTimeEx</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useRead</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      time</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1716019596000</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">default</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">time</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">immediate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 使用computed包装成Ref</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> times </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">computed</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> tempTime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">time)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> countdownTime </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useCountdown</span><span style="color:#A6ACCD;">(times</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">D</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">onFinish</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">倒计时结束</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="源码-1" tabindex="-1">源码： <a class="header-anchor" href="#源码-1" aria-label="Permalink to &quot;源码：&quot;">​</a></h3><p><a href="./hookSource.html">hook源码</a></p>`,20),p=[t];function e(r,c,D,i,y,F){return a(),n("div",null,p)}const A=s(l,[["render",e]]);export{C as __pageData,A as default};
